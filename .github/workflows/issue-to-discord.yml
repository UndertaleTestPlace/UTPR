name: Issue â†’ Discord
on:
  issues:
    types: [opened, edited, closed, reopened]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Notify Discord
        uses: Ilshidur/action-discord@0.3.2
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
          DISCORD_USERNAME: "My Bot Name"            # optional
          DISCORD_AVATAR: "https://my.cdn/avatar.png" # optional
          DISCORD_EMBEDS: |
            ${{ toJson([{
              title: github.event.issue.title,
              url: github.event.issue.html_url,
              description: github.event.action + " by @" + github.actor
            }]) }}
        with:
          # If you omit `args`, the action will post a default summary
          args: "" 
